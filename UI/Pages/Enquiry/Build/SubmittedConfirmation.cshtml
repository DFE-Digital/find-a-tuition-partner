@page
@model UI.Pages.Enquiry.Build.SubmittedConfirmation
@{
  ViewData["Title"] = "Enquiry submitted confirmation";
  ViewData["IncludePrintPage"] = true;
  var supportReferenceNumber = @Model.Data.SupportReferenceNumber ?? string.Empty;
  var enquirerLink = string.IsNullOrWhiteSpace(Model.Data.EnquirerMagicLink) ? string.Empty : $"/enquiry/respond/all-enquirer-responses?token={Model.Data.EnquirerMagicLink}";
}

<div class="govuk-width-container">
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            <div class="govuk-panel govuk-panel--confirmation">
                <h1 class="govuk-panel__title">
                    Request sent
                </h1>
                <div class="govuk-panel__body">
                    Your reference number is<br><strong>@supportReferenceNumber</strong>
                </div>
            </div>
            <br/>
            <h2 class="govuk-heading-m">What happens next</h2>
            <p class="govuk-body">
                You'll start to be notified by email if tuition partners can work with you.
            </p>
            <p class="govuk-body">
                Tuition partners will need to contact you within one week.
            </p>
            @if(!string.IsNullOrWhiteSpace(enquirerLink))
            {
            <h2 class="govuk-heading-m">Test links</h2>
            <p class="govuk-body">
              NOTE: the following links are only displayed in the non-production websites for testing purposes...
            </p>
            <p class="govuk-body">
                <a href="@enquirerLink">Enquirer link</a>
            </p>
            }
            @if(Model.Data.TuitionPartnerMagicLinks != null)
            {
                <p class="govuk-body">
                    Tuition Partner links (displaying @Model.Data.TuitionPartnerMagicLinks.Count() of @Model.Data.TuitionPartnerMagicLinksCount)
                </p>
                foreach (var tpLink in Model.Data.TuitionPartnerMagicLinks)
                {
                    var tpHref = $"/enquiry/respond/response?token={tpLink.Value}";
                <p class="govuk-body">
                    @tpLink.Key: <a href="@tpHref">Response link</a>
                </p>
                }
            }
    </div>
    </div>
</div>