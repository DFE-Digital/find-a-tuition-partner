name: end-to-end-testing

on: [push]

jobs:
  end-to-end-testing:
    runs-on: ubuntu-latest
    defaults:
      run:
        working-directory: ./End-2-End-Testing
    steps:
      - name: checkout
        uses: actions/checkout@v2

      - name: Cypress run
        uses: cypress-io/github-action@v4
        with:
          working-directory: ./End-2-End-Testing
          config: baseUrl=https://national-tutoring-dev.london.cloudapps.digital/
        env:
          CYPRESS_USERNAME: ${{ secrets.HTTP_AUTH_USERNAME }}
          CYPRESS_PASSWORD: ${{ secrets.HTTP_AUTH_PASSWORD }}
